#include <sourcemod>

#pragma semicolon 1
#pragma newdecls required

#define VERSION "1.0.0"

public Plugin myinfo = {
    name = "L4D2 IDLEExploitFix",
    author = "Garamond",
    description = "Disables IDLE command.",
    version = VERSION,
    url = ""
};

#define DIRECTOR_AFK_TIMEOUT 30

public void OnPluginStart()
{
    static const char go_away_from_keyboard[] = "go_away_from_keyboard";
    SetCommandFlags(go_away_from_keyboard, GetCommandFlags(go_away_from_keyboard) | FCVAR_CHEAT);
}

public void OnConfigsExecuted()
{
    // Default 45.
    SetConVarInt(FindConVar("director_afk_timeout"), DIRECTOR_AFK_TIMEOUT);
}